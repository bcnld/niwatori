<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>そんなに怖いか？鶏に犯されるのが</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: black;
      color: white;
      font-family: sans-serif;
    }
    #player, #enemy {
      position: absolute;
      width: 50px;
      height: 50px;
    }
    #player {
      background-color: white;
      border-radius: 50%;
    }
    #enemy {
      background-image: url('dog.png');
      background-size: cover;
    }
    #screamVideo {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 10;
      background: black;
    }
  </style>
</head>
<body>
  <audio id="bgm" src="oppa2.wav" autoplay loop></audio>
  <audio id="scream" src="oppa4.wav"></audio>

  <div id="player"></div>
  <div id="enemy"></div>

  <div id="screamVideo">
    <h1 style="color:red; text-align:center; padding-top: 40vh; font-size: 5em;">捕まった……！</h1>
  </div>

  <script>
    const player = document.getElementById('player');
    const enemy = document.getElementById('enemy');
    const bgm = document.getElementById('bgm');
    const scream = document.getElementById('scream');
    const screamVideo = document.getElementById('screamVideo');

    let playerX = 100, playerY = 100;
    let enemyX = 400, enemyY = 300;

    document.addEventListener('keydown', e => {
      const speed = 10;
      if (e.key === 'ArrowUp') playerY -= speed;
      if (e.key === 'ArrowDown') playerY += speed;
      if (e.key === 'ArrowLeft') playerX -= speed;
      if (e.key === 'ArrowRight') playerX += speed;
    });

    function moveEnemy() {
      const dx = playerX - enemyX;
      const dy = playerY - enemyY;
      const dist = Math.hypot(dx, dy);
      const speed = 2;

      enemyX += dx / dist * speed;
      enemyY += dy / dist * speed;
    }

    function updatePositions() {
      player.style.left = playerX + 'px';
      player.style.top = playerY + 'px';
      enemy.style.left = enemyX + 'px';
      enemy.style.top = enemyY + 'px';
    }

    function checkCatch() {
      const dx = playerX - enemyX;
      const dy = playerY - enemyY;
      const dist = Math.hypot(dx, dy);
      if (dist < 50) {
        bgm.pause();
        scream.play();
        screamVideo.style.display = 'block';
      }
    }

    function gameLoop() {
      moveEnemy();
      updatePositions();
      checkCatch();
      requestAnimationFrame(gameLoop);
    }

    gameLoop();
  </script>
</body>
</html>

